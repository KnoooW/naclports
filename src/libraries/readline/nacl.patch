diff --git a/rldefs.h b/rldefs.h
index 0257754..099420c 100644
--- a/rldefs.h
+++ b/rldefs.h
@@ -34,6 +34,14 @@
 #  undef HAVE_STRCOLL
 #endif
 
+#if defined (__native_client__) && !defined (_POSIX_VERSION)
+/* Currently the newlib toolchain in NaCl doesn't define _POSIX_VERSION
+ * which causes readline to fall back to using ioctl() rather than
+ * tcgetattr().  TODO(sbc): remove this patch once either ioctl() is
+ * supported on tty nodes or _POSIX_VERSION is defined by newlib headers. */
+#define _POSIX_VERSION 199309L
+#endif
+
 #if defined (_POSIX_VERSION) && !defined (TERMIOS_MISSING)
 #  define TERMIOS_TTY_DRIVER
 #else
